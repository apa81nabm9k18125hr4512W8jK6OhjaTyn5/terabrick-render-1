<!DOCTYPE HTML>
<html>
<head>
</head>
<body>
<canvas></canvas>
<div><p>Fly around using W,A,S,D,Shift,Space</p><p>and</p><p>Click here to enable mouse controls</p></div>
<style>
canvas{
  position: absolute;
  background: #111;
  height: 100%;
  width: 100%;
  left: 0;
  top: 0;
}
div{
  font-family: "Courier New", Courier, monospace;
  font-weight: lighter;
  Font-size: 18px;
  text-align: center;
  color: #eee;
  position: absolute;
  width: 100%;
  left: 0;
  top: 20%;
}
p{
  margin: 0;
}
</style>
<script>
init = function(){
  canvas = document.querySelector('canvas');
  ctx = canvas.getContext('2d');
  instructions = document.querySelector('div');

  (onresize = function(){
    canvas.width = canvas.clientWidth;
    canvas.height = canvas.clientHeight;
    height2 = canvas.height/2;
    aspect = canvas.width/canvas.height;
    ctx.setTransform(height2,0,0,height2,canvas.width/2,height2)
  })();

  crossmultiply = function(a,b){
    return [a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]];
  };

  multiplyMatrix = function(m1,m2){
    var m = [],
        rows = m1.length/4,
        cols = m2.length/4;
    for(var row=0;row<rows;row++){
      for(var col=0;col<cols;col++){
        var pos = row*cols+col,
            rowTimesN = row*4;
        m[pos] = m1[rowTimesN]*m2[col];
        for(var i=1;i<4;i++){
          m[pos] += m1[rowTimesN+i]*m2[i*4+col];
        }
      }
    }
    return m;
  };
  
  getInverseMatrix = function(a){
    var m = [a[0],a[1],a[2],a[3],
             a[4],a[5],a[6],a[7],
             a[8],a[9],a[10],a[11],
             a[12],a[13],a[14],a[15]],
        i = [1,0,0,0,
             0,1,0,0,
             0,0,1,0,
             0,0,0,1];
    m[0] = (m[0]+m[4])/5;
    m[1] = (m[0]+m[5])/5;
    m[2] = (m[0]+m[6])/5;
    m[3] = (m[0]+m[7])/5;
  }

  normalize = function(v){
    var l = Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]);
    v[0] /= l;
    v[1] /= l;
    v[2] /= l;
  }

  depth = 20;
  width = 20;
  sqrt34 = Math.sqrt(3/4);
  sqrt316 = Math.sqrt(3/16);

  normals = new Float32Array(faces.length);
  for(var i=0;i<normals.length;i+=3){
    var n = crossmultiply([
      vertices[faces[i]]-vertices[faces[i+1]],
      vertices[faces[i]+1]-vertices[faces[i+1]+1],
      vertices[faces[i]+2]-vertices[faces[i+1]+2]
    ],[
      vertices[faces[i+1]]-vertices[faces[i+2]],
      vertices[faces[i+1]+1]-vertices[faces[i+2]+1],
      vertices[faces[i+1]+2]-vertices[faces[i+2]+2]
    ]);
    normalize(n);
    normals[i] = n[0];
    normals[i+1] = n[1];
    normals[i+2] = n[2];
  }

  var mvMatrix,mMatrix,imMatrix,rvMatrix,rmvMatrix,
      xr = 0,
      yr = Math.PI,
      x = 0,
      y = 0,
      z = 3,
      xv = 0,
      yv = 0,
      zv = 0,
      yrm = 0,
      pMatrix = [1,0,0,0,
                 0,1,0,0,
                 0,0,1,-1,
                 0,0,0,0],
      lights = [
        [1,1,1,1],
        [-1,-1,1,0.3],
        [1,1,-1,0.2],
        [0,-1,-1,0.3],
        [-1,1,-1,0.1],
      ];
  for(var i=0;i<lights.length;i++)normalize(lights[i]);

  updateMatrices = function(){
    var v = [1,0,0,0,
             0,1,0,0,
             0,0,1,0,
             -x,-y,-z,1],
        xrvMatrix = [1,0,0,0,
                     0,Math.cos(xr),-Math.sin(xr),0,
                     0,Math.sin(xr),Math.cos(xr),0,
                     0,0,0,1],
        yrvMatrix = [Math.cos(yr),0,Math.sin(yr),0,
                     0,1,0,0,
                     -Math.sin(yr),0,Math.cos(yr),0,
                     0,0,0,1];
    mMatrix = [Math.cos(yrm),0,Math.sin(yrm),0,
               0,1,0,0,
               -Math.sin(yrm),0,Math.cos(yrm),0,
               0,0,0,1];
    rvMatrix = multiplyMatrix(yrvMatrix,xrvMatrix);
    v = multiplyMatrix(v,rvMatrix);
    rmvMatrix = multiplyMatrix(mMatrix,rvMatrix);
    mvMatrix = multiplyMatrix(mMatrix,v);
  }

  mouseControl = new function(){
    canvas.requestPointerLock = canvas.requestPointerLock ||
      canvas.mozRequestPointerLock ||
      canvas.webkitRequestPointerLock;
    var initialFrame = false,
        enabled = false;
    addEventListener('mousemove',function(e){
      if(enabled){
        if(!initialFrame){
          xr += (e.movementY|e.mozMovementY) * 0.003;
          yr -= (e.movementX|e.mozMovementX) * 0.003;
          xr = Math.max(-Math.PI/2,Math.min(Math.PI/2,xr));
        }
        initialFrame = false;
      }
    });
    addEventListener('click',function(e){
      if(!enabled){
        canvas.requestPointerLock();
      }
    });
    var pointerLockChange = function(){
      if(document.pointerLockElement === canvas || document.mozPointerLockElement === canvas){
        enabled = true;
        initialFrame = true;
        instructions.style.display = 'none';
      }else{
        enabled = false;
        instructions.style.display = 'block';
      }
    };
    if('onpointerlockchange' in document){
      document.addEventListener('pointerlockchange',pointerLockChange);
    }else{
      document.addEventListener('webkitpointerlockchange',pointerLockChange);
      document.addEventListener('mozpointerlockchange',pointerLockChange);
    }
  };

  keyboardControls = new function(){
    var self = this,
        keydown = new Array(255);
    for(var i=0;i<keydown.length;i++)keydown[i]=false;
    addEventListener('keydown',function(e){
      keydown[e.keyCode] = true;
    });
    addEventListener('keyup',function(e){
      keydown[e.keyCode] = false;
    });
    this.update = function(){
      var acceleration = [0,0,0,1]
      if(keydown[87])acceleration[2] = -0.01;
      if(keydown[83])acceleration[2] = 0.01;
      if(keydown[65])acceleration[0] = -0.01;
      if(keydown[68])acceleration[0] = 0.01;
      if(keydown[16])acceleration[1] = 0.01;
      if(keydown[32])acceleration[1] = -0.01;
      var yrMatrix = [Math.cos(-yr),0,Math.sin(-yr),0,
                      0,1,0,0,
                      -Math.sin(-yr),0,Math.cos(-yr),0,
                      0,0,0,1];
      acceleration = multiplyMatrix(acceleration,yrMatrix);
      xv -= acceleration[0];
      yv -= acceleration[1];
      zv -= acceleration[2];
      x += xv;
      y += yv;
      z += zv;
      xv *= 0.9;
      yv *= 0.9;
      zv *= 0.9;
      updateMatrices();
    };
  };

  requestAnimationFrame(loop = function(){
    yrm += 0.003;
    ctx.clearRect(-aspect,-1,aspect*2,2);
    keyboardControls.update();
    var pVertices = new Float32Array(vertices.length),
        drawFaces = new Uint16Array(faces.length/3),
        faceDepth = new Float32Array(faces.length/3),
        drawFacesLength = 0,
        mvpMatrix = multiplyMatrix(mvMatrix,pMatrix),
        pNormals = new Float32Array(normals.length),
        pLights = new Array(lights.length);
    for(var i=0;i<pVertices.length;i+=3){
      var v = [vertices[i],vertices[i+1],vertices[i+2]];
      v[3] = 1;
      v = multiplyMatrix(v,mvpMatrix);
      pVertices[i] = v[0]/v[3];
      pVertices[i+1] = v[1]/v[3];
      pVertices[i+2] = v[2];
    }
    for(var i=0;i<faces.length;i+=3){
      var n = multiplyMatrix([normals[i],normals[i+1],normals[i+2],1],rmvMatrix);
      pNormals[i] = n[0];
      pNormals[i+1] = n[1];
      pNormals[i+2] = n[2];
      var z = (pVertices[faces[i]+2]+pVertices[faces[i+1]+2]+pVertices[faces[i+2]+2])/3;
      if(pVertices[faces[i]+2]>0.01 && pVertices[faces[i+1]+2]>0.01 && pVertices[faces[i+2]+2]>0.01){
        faceDepth[drawFacesLength] = z;
        drawFaces[drawFacesLength] = i;
        drawFacesLength++;
      };
    }
    var order = new Array(drawFacesLength);
    for(var i=0;i<order.length;i++)order[i] = i;
    order.sort(function(a,b){
      if(faceDepth[a]<faceDepth[b])return 1;
      if(faceDepth[a]>faceDepth[b])return -1;
      return 0;
    });
    for(var l=0;l<lights.length;l++){
      var s = lights[l][3],
          light = [lights[l][0],lights[l][1],lights[l][2],1];
      light = multiplyMatrix(light,rvMatrix);
      pLights[l] = light;
      pLights[l][3] = s;
    }
    ctx.lineWidth = 2/canvas.height;
    ctx.lineCap = 'bevel';
    for(var i=0;i<order.length;i++){
      var f = drawFaces[order[i]];
      var c = 0;
      for(var l=0;l<lights.length;l++){
        c += Math.max(0,(pLights[l][0]*pNormals[f]+pLights[l][1]*pNormals[f+1]+pLights[l][2]*pNormals[f+2])*pLights[l][3]);
      }
      c = Math.min(255,c);
      c = Math.floor(c*255);
      ctx.strokeStyle = ctx.fillStyle = 'rgb('+c+','+c+','+c+')';
      ctx.beginPath();
      ctx.moveTo(pVertices[faces[f]],pVertices[faces[f]+1]);
      ctx.lineTo(pVertices[faces[f+1]],pVertices[faces[f+1]+1]);
      ctx.lineTo(pVertices[faces[f+2]],pVertices[faces[f+2]+1]);
      ctx.closePath();
      ctx.stroke();
      ctx.fill();
    }
    requestAnimationFrame(loop);
  });
}

vertices = new Float32Array([0.4375,0.164062,0.765625,-0.4375,0.164062,0.765625,0.5,0.09375,0.6875,-0.5,0.09375,0.6875,0.546875,0.054688,0.578125,-0.546875,0.054688,0.578125,0.351562,-0.023438,0.617188,-0.351562,-0.023438,0.617188,0.351562,0.03125,0.71875,-0.351562,0.03125,0.71875,0.351562,0.132812,0.78125,-0.351562,0.132812,0.78125,0.273438,0.164062,0.796875,-0.273438,0.164062,0.796875,0.203125,0.09375,0.742188,-0.203125,0.09375,0.742188,0.15625,0.054688,0.648438,-0.15625,0.054688,0.648438,0.078125,0.242188,0.65625,-0.078125,0.242188,0.65625,0.140625,0.242188,0.742188,-0.140625,0.242188,0.742188,0.242188,0.242188,0.796875,-0.242188,0.242188,0.796875,0.273438,0.328125,0.796875,-0.273438,0.328125,0.796875,0.203125,0.390625,0.742188,-0.203125,0.390625,0.742188,0.15625,0.4375,0.648438,-0.15625,0.4375,0.648438,0.351562,0.515625,0.617188,-0.351562,0.515625,0.617188,0.351562,0.453125,0.71875,-0.351562,0.453125,0.71875,0.351562,0.359375,0.78125,-0.351562,0.359375,0.78125,0.4375,0.328125,0.765625,-0.4375,0.328125,0.765625,0.5,0.390625,0.6875,-0.5,0.390625,0.6875,0.546875,0.4375,0.578125,-0.546875,0.4375,0.578125,0.625,0.242188,0.5625,-0.625,0.242188,0.5625,0.5625,0.242188,0.671875,-0.5625,0.242188,0.671875,0.46875,0.242188,0.757812,-0.46875,0.242188,0.757812,0.476562,0.242188,0.773438,-0.476562,0.242188,0.773438,0.445312,0.335938,0.78125,-0.445312,0.335938,0.78125,0.351562,0.375,0.804688,-0.351562,0.375,0.804688,0.265625,0.335938,0.820312,-0.265625,0.335938,0.820312,0.226562,0.242188,0.820312,-0.226562,0.242188,0.820312,0.265625,0.15625,0.820312,-0.265625,0.15625,0.820312,0.351562,0.242188,0.828125,-0.351562,0.242188,0.828125,0.351562,0.117188,0.804688,-0.351562,0.117188,0.804688,0.445312,0.15625,0.78125,-0.445312,0.15625,0.78125,0,0.429688,0.742188,0,0.351562,0.820312,0,-0.679688,0.734375,0,-0.320312,0.78125,0,-0.1875,0.796875,0,-0.773438,0.71875,0,0.40625,0.601562,0,0.570312,0.570312,0,0.898438,-0.546875,0,0.5625,-0.851562,0,0.070312,-0.828125,0,-0.382812,-0.351562,0.203125,-0.1875,0.5625,-0.203125,-0.1875,0.5625,0.3125,-0.4375,0.570312,-0.3125,-0.4375,0.570312,0.351562,-0.695312,0.570312,-0.351562,-0.695312,0.570312,0.367188,-0.890625,0.53125,-0.367188,-0.890625,0.53125,0.328125,-0.945312,0.523438,-0.328125,-0.945312,0.523438,0.179688,-0.96875,0.554688,-0.179688,-0.96875,0.554688,0,-0.984375,0.578125,0.4375,-0.140625,0.53125,-0.4375,-0.140625,0.53125,0.632812,-0.039062,0.539062,-0.632812,-0.039062,0.539062,0.828125,0.148438,0.445312,-0.828125,0.148438,0.445312,0.859375,0.429688,0.59375,-0.859375,0.429688,0.59375,0.710938,0.484375,0.625,-0.710938,0.484375,0.625,0.492188,0.601562,0.6875,-0.492188,0.601562,0.6875,0.320312,0.757812,0.734375,-0.320312,0.757812,0.734375,0.15625,0.71875,0.757812,-0.15625,0.71875,0.757812,0.0625,0.492188,0.75,-0.0625,0.492188,0.75,0.164062,0.414062,0.773438,-0.164062,0.414062,0.773438,0.125,0.304688,0.765625,-0.125,0.304688,0.765625,0.203125,0.09375,0.742188,-0.203125,0.09375,0.742188,0.375,0.015625,0.703125,-0.375,0.015625,0.703125,0.492188,0.0625,0.671875,-0.492188,0.0625,0.671875,0.625,0.1875,0.648438,-0.625,0.1875,0.648438,0.640625,0.296875,0.648438,-0.640625,0.296875,0.648438,0.601562,0.375,0.664062,-0.601562,0.375,0.664062,0.429688,0.4375,0.71875,-0.429688,0.4375,0.71875,0.25,0.46875,0.757812,-0.25,0.46875,0.757812,0,-0.765625,0.734375,0.109375,-0.71875,0.734375,-0.109375,-0.71875,0.734375,0.117188,-0.835938,0.710938,-0.117188,-0.835938,0.710938,0.0625,-0.882812,0.695312,-0.0625,-0.882812,0.695312,0,-0.890625,0.6875,0,-0.195312,0.75,0,-0.140625,0.742188,0.101562,-0.148438,0.742188,-0.101562,-0.148438,0.742188,0.125,-0.226562,0.75,-0.125,-0.226562,0.75,0.085938,-0.289062,0.742188,-0.085938,-0.289062,0.742188,0.398438,-0.046875,0.671875,-0.398438,-0.046875,0.671875,0.617188,0.054688,0.625,-0.617188,0.054688,0.625,0.726562,0.203125,0.601562,-0.726562,0.203125,0.601562,0.742188,0.375,0.65625,-0.742188,0.375,0.65625,0.6875,0.414062,0.726562,-0.6875,0.414062,0.726562,0.4375,0.546875,0.796875,-0.4375,0.546875,0.796875,0.3125,0.640625,0.835938,-0.3125,0.640625,0.835938,0.203125,0.617188,0.851562,-0.203125,0.617188,0.851562,0.101562,0.429688,0.84375,-0.101562,0.429688,0.84375,0.125,-0.101562,0.8125,-0.125,-0.101562,0.8125,0.210938,-0.445312,0.710938,-0.210938,-0.445312,0.710938,0.25,-0.703125,0.6875,-0.25,-0.703125,0.6875,0.265625,-0.820312,0.664062,-0.265625,-0.820312,0.664062,0.234375,-0.914062,0.632812,-0.234375,-0.914062,0.632812,0.164062,-0.929688,0.632812,-0.164062,-0.929688,0.632812,0,-0.945312,0.640625,0,0.046875,0.726562,0,0.210938,0.765625,0.328125,0.476562,0.742188,-0.328125,0.476562,0.742188,0.164062,0.140625,0.75,-0.164062,0.140625,0.75,0.132812,0.210938,0.757812,-0.132812,0.210938,0.757812,0.117188,-0.6875,0.734375,-0.117188,-0.6875,0.734375,0.078125,-0.445312,0.75,-0.078125,-0.445312,0.75,0,-0.445312,0.75,0,-0.328125,0.742188,0.09375,-0.273438,0.78125,-0.09375,-0.273438,0.78125,0.132812,-0.226562,0.796875,-0.132812,-0.226562,0.796875,0.109375,-0.132812,0.78125,-0.109375,-0.132812,0.78125,0.039062,-0.125,0.78125,-0.039062,-0.125,0.78125,0,-0.203125,0.828125,0.046875,-0.148438,0.8125,-0.046875,-0.148438,0.8125,0.09375,-0.15625,0.8125,-0.09375,-0.15625,0.8125,0.109375,-0.226562,0.828125,-0.109375,-0.226562,0.828125,0.078125,-0.25,0.804688,-0.078125,-0.25,0.804688,0,-0.289062,0.804688,0.257812,-0.3125,0.554688,-0.257812,-0.3125,0.554688,0.164062,-0.242188,0.710938,-0.164062,-0.242188,0.710938,0.179688,-0.3125,0.710938,-0.179688,-0.3125,0.710938,0.234375,-0.25,0.554688,-0.234375,-0.25,0.554688,0,-0.875,0.6875,0.046875,-0.867188,0.6875,-0.046875,-0.867188,0.6875,0.09375,-0.820312,0.710938,-0.09375,-0.820312,0.710938,0.09375,-0.742188,0.726562,-0.09375,-0.742188,0.726562,0,-0.78125,0.65625,0.09375,-0.75,0.664062,-0.09375,-0.75,0.664062,0.09375,-0.8125,0.640625,-0.09375,-0.8125,0.640625,0.046875,-0.851562,0.632812,-0.046875,-0.851562,0.632812,0,-0.859375,0.632812,0.171875,0.21875,0.78125,-0.171875,0.21875,0.78125,0.1875,0.15625,0.773438,-0.1875,0.15625,0.773438,0.335938,0.429688,0.757812,-0.335938,0.429688,0.757812,0.273438,0.421875,0.773438,-0.273438,0.421875,0.773438,0.421875,0.398438,0.773438,-0.421875,0.398438,0.773438,0.5625,0.351562,0.695312,-0.5625,0.351562,0.695312,0.585938,0.289062,0.6875,-0.585938,0.289062,0.6875,0.578125,0.195312,0.679688,-0.578125,0.195312,0.679688,0.476562,0.101562,0.71875,-0.476562,0.101562,0.71875,0.375,0.0625,0.742188,-0.375,0.0625,0.742188,0.226562,0.109375,0.78125,-0.226562,0.109375,0.78125,0.179688,0.296875,0.78125,-0.179688,0.296875,0.78125,0.210938,0.375,0.78125,-0.210938,0.375,0.78125,0.234375,0.359375,0.757812,-0.234375,0.359375,0.757812,0.195312,0.296875,0.757812,-0.195312,0.296875,0.757812,0.242188,0.125,0.757812,-0.242188,0.125,0.757812,0.375,0.085938,0.726562,-0.375,0.085938,0.726562,0.460938,0.117188,0.703125,-0.460938,0.117188,0.703125,0.546875,0.210938,0.671875,-0.546875,0.210938,0.671875,0.554688,0.28125,0.671875,-0.554688,0.28125,0.671875,0.53125,0.335938,0.679688,-0.53125,0.335938,0.679688,0.414062,0.390625,0.75,-0.414062,0.390625,0.75,0.28125,0.398438,0.765625,-0.28125,0.398438,0.765625,0.335938,0.40625,0.75,-0.335938,0.40625,0.75,0.203125,0.171875,0.75,-0.203125,0.171875,0.75,0.195312,0.226562,0.75,-0.195312,0.226562,0.75,0.109375,0.460938,0.609375,-0.109375,0.460938,0.609375,0.195312,0.664062,0.617188,-0.195312,0.664062,0.617188,0.335938,0.6875,0.59375,-0.335938,0.6875,0.59375,0.484375,0.554688,0.554688,-0.484375,0.554688,0.554688,0.679688,0.453125,0.492188,-0.679688,0.453125,0.492188,0.796875,0.40625,0.460938,-0.796875,0.40625,0.460938,0.773438,0.164062,0.375,-0.773438,0.164062,0.375,0.601562,0,0.414062,-0.601562,0,0.414062,0.4375,-0.09375,0.46875,-0.4375,-0.09375,0.46875,0,0.898438,0.289062,0,0.984375,-0.078125,0,-0.195312,-0.671875,0,-0.460938,0.1875,0,-0.976562,0.460938,0,-0.804688,0.34375,0,-0.570312,0.320312,0,-0.484375,0.28125,0.851562,0.234375,0.054688,-0.851562,0.234375,0.054688,0.859375,0.320312,-0.046875,-0.859375,0.320312,-0.046875,0.773438,0.265625,-0.4375,-0.773438,0.265625,-0.4375,0.460938,0.4375,-0.703125,-0.460938,0.4375,-0.703125,0.734375,-0.046875,0.070312,-0.734375,-0.046875,0.070312,0.59375,-0.125,-0.164062,-0.59375,-0.125,-0.164062,0.640625,-0.007812,-0.429688,-0.640625,-0.007812,-0.429688,0.335938,0.054688,-0.664062,-0.335938,0.054688,-0.664062,0.234375,-0.351562,0.40625,-0.234375,-0.351562,0.40625,0.179688,-0.414062,0.257812,-0.179688,-0.414062,0.257812,0.289062,-0.710938,0.382812,-0.289062,-0.710938,0.382812,0.25,-0.5,0.390625,-0.25,-0.5,0.390625,0.328125,-0.914062,0.398438,-0.328125,-0.914062,0.398438,0.140625,-0.757812,0.367188,-0.140625,-0.757812,0.367188,0.125,-0.539062,0.359375,-0.125,-0.539062,0.359375,0.164062,-0.945312,0.4375,-0.164062,-0.945312,0.4375,0.21875,-0.28125,0.429688,-0.21875,-0.28125,0.429688,0.210938,-0.226562,0.46875,-0.210938,-0.226562,0.46875,0.203125,-0.171875,0.5,-0.203125,-0.171875,0.5,0.210938,-0.390625,0.164062,-0.210938,-0.390625,0.164062,0.296875,-0.3125,-0.265625,-0.296875,-0.3125,-0.265625,0.34375,-0.148438,-0.539062,-0.34375,-0.148438,-0.539062,0.453125,0.867188,-0.382812,-0.453125,0.867188,-0.382812,0.453125,0.929688,-0.070312,-0.453125,0.929688,-0.070312,0.453125,0.851562,0.234375,-0.453125,0.851562,0.234375,0.460938,0.523438,0.429688,-0.460938,0.523438,0.429688,0.726562,0.40625,0.335938,-0.726562,0.40625,0.335938,0.632812,0.453125,0.28125,-0.632812,0.453125,0.28125,0.640625,0.703125,0.054688,-0.640625,0.703125,0.054688,0.796875,0.5625,0.125,-0.796875,0.5625,0.125,0.796875,0.617188,-0.117188,-0.796875,0.617188,-0.117188,0.640625,0.75,-0.195312,-0.640625,0.75,-0.195312,0.640625,0.679688,-0.445312,-0.640625,0.679688,-0.445312,0.796875,0.539062,-0.359375,-0.796875,0.539062,-0.359375,0.617188,0.328125,-0.585938,-0.617188,0.328125,-0.585938,0.484375,0.023438,-0.546875,-0.484375,0.023438,-0.546875,0.820312,0.328125,-0.203125,-0.820312,0.328125,-0.203125,0.40625,-0.171875,0.148438,-0.40625,-0.171875,0.148438,0.429688,-0.195312,-0.210938,-0.429688,-0.195312,-0.210938,0.890625,0.40625,-0.234375,-0.890625,0.40625,-0.234375,0.773438,-0.140625,-0.125,-0.773438,-0.140625,-0.125,1.039062,-0.101562,-0.328125,-1.039062,-0.101562,-0.328125,1.28125,0.054688,-0.429688,-1.28125,0.054688,-0.429688,1.351562,0.320312,-0.421875,-1.351562,0.320312,-0.421875,1.234375,0.507812,-0.421875,-1.234375,0.507812,-0.421875,1.023438,0.476562,-0.3125,-1.023438,0.476562,-0.3125,1.015625,0.414062,-0.289062,-1.015625,0.414062,-0.289062,1.1875,0.4375,-0.390625,-1.1875,0.4375,-0.390625,1.265625,0.289062,-0.40625,-1.265625,0.289062,-0.40625,1.210938,0.078125,-0.40625,-1.210938,0.078125,-0.40625,1.03125,-0.039062,-0.304688,-1.03125,-0.039062,-0.304688,0.828125,-0.070312,-0.132812,-0.828125,-0.070312,-0.132812,0.921875,0.359375,-0.21875,-0.921875,0.359375,-0.21875,0.945312,0.304688,-0.289062,-0.945312,0.304688,-0.289062,0.882812,-0.023438,-0.210938,-0.882812,-0.023438,-0.210938,1.039062,0,-0.367188,-1.039062,0,-0.367188,1.1875,0.09375,-0.445312,-1.1875,0.09375,-0.445312,1.234375,0.25,-0.445312,-1.234375,0.25,-0.445312,1.171875,0.359375,-0.4375,-1.171875,0.359375,-0.4375,1.023438,0.34375,-0.359375,-1.023438,0.34375,-0.359375,0.84375,0.289062,-0.210938,-0.84375,0.289062,-0.210938,0.835938,0.171875,-0.273438,-0.835938,0.171875,-0.273438,0.757812,0.09375,-0.273438,-0.757812,0.09375,-0.273438,0.820312,0.085938,-0.273438,-0.820312,0.085938,-0.273438,0.84375,0.015625,-0.273438,-0.84375,0.015625,-0.273438,0.8125,-0.015625,-0.273438,-0.8125,-0.015625,-0.273438,0.726562,0,-0.070312,-0.726562,0,-0.070312,0.71875,-0.023438,-0.171875,-0.71875,-0.023438,-0.171875,0.71875,0.039062,-0.1875,-0.71875,0.039062,-0.1875,0.796875,0.203125,-0.210938,-0.796875,0.203125,-0.210938,0.890625,0.242188,-0.265625,-0.890625,0.242188,-0.265625,0.890625,0.234375,-0.320312,-0.890625,0.234375,-0.320312,0.8125,-0.015625,-0.320312,-0.8125,-0.015625,-0.320312,0.851562,0.015625,-0.320312,-0.851562,0.015625,-0.320312,0.828125,0.078125,-0.320312,-0.828125,0.078125,-0.320312,0.765625,0.09375,-0.320312,-0.765625,0.09375,-0.320312,0.84375,0.171875,-0.320312,-0.84375,0.171875,-0.320312,1.039062,0.328125,-0.414062,-1.039062,0.328125,-0.414062,1.1875,0.34375,-0.484375,-1.1875,0.34375,-0.484375,1.257812,0.242188,-0.492188,-1.257812,0.242188,-0.492188,1.210938,0.085938,-0.484375,-1.210938,0.085938,-0.484375,1.046875,0,-0.421875,-1.046875,0,-0.421875,0.882812,-0.015625,-0.265625,-0.882812,-0.015625,-0.265625,0.953125,0.289062,-0.34375,-0.953125,0.289062,-0.34375,0.890625,0.109375,-0.328125,-0.890625,0.109375,-0.328125,0.9375,0.0625,-0.335938,-0.9375,0.0625,-0.335938,1,0.125,-0.367188,-1,0.125,-0.367188,0.960938,0.171875,-0.351562,-0.960938,0.171875,-0.351562,1.015625,0.234375,-0.375,-1.015625,0.234375,-0.375,1.054688,0.1875,-0.382812,-1.054688,0.1875,-0.382812,1.109375,0.210938,-0.390625,-1.109375,0.210938,-0.390625,1.085938,0.273438,-0.390625,-1.085938,0.273438,-0.390625,1.023438,0.4375,-0.484375,-1.023438,0.4375,-0.484375,1.25,0.46875,-0.546875,-1.25,0.46875,-0.546875,1.367188,0.296875,-0.5,-1.367188,0.296875,-0.5,1.3125,0.054688,-0.53125,-1.3125,0.054688,-0.53125,1.039062,-0.085938,-0.492188,-1.039062,-0.085938,-0.492188,0.789062,-0.125,-0.328125,-0.789062,-0.125,-0.328125,0.859375,0.382812,-0.382812,-0.859375,0.382812,-0.382812]);
faces = new Uint16Array([138,0,6,6,132,138,9,3,141,141,135,9,132,6,12,12,126,132,15,9,135,135,129,15,6,24,18,18,12,6,21,27,9,9,15,21,0,30,24,24,6,0,27,33,3,3,9,27,30,36,42,42,24,30,45,39,33,33,27,45,24,42,48,48,18,24,51,45,27,27,21,51,42,60,54,54,48,42,57,63,45,45,51,57,36,66,60,60,42,36,63,69,39,39,45,63,66,72,78,78,60,66,81,75,69,69,63,81,60,78,84,84,54,60,87,81,63,63,57,87,78,96,90,90,84,78,93,99,81,81,87,93,72,102,96,96,78,72,99,105,75,75,81,99,102,108,114,114,96,102,117,111,105,105,99,117,96,114,120,120,90,96,123,117,99,99,93,123,114,132,126,126,120,114,129,135,117,117,123,129,108,138,132,132,114,108,135,141,111,111,117,135,138,108,150,150,144,138,153,111,141,141,147,153,108,102,156,156,150,108,159,105,111,111,153,159,102,72,162,162,156,102,165,75,105,105,159,165,72,66,168,168,162,72,171,69,75,75,165,171,66,36,174,174,168,66,177,39,69,69,171,177,36,30,186,186,174,36,189,33,39,39,177,189,30,0,192,192,186,30,195,3,33,33,189,195,0,138,144,144,192,0,147,141,3,3,195,147,180,192,144,147,195,183,186,192,180,183,195,189,180,174,186,189,177,183,180,168,174,177,171,183,180,162,168,171,165,183,180,156,162,165,159,183,180,150,156,159,153,183,180,144,150,153,147,183,264,519,525,525,270,264,525,522,267,267,270,525,258,513,519,519,264,258,522,516,261,261,267,522,252,507,513,513,258,252,516,510,255,255,261,516,246,501,507,507,252,246,510,504,249,249,255,510,240,495,501,501,246,240,504,498,243,243,249,504,234,273,435,435,489,234,438,276,237,237,492,438,273,279,441,441,435,273,444,282,276,276,438,444,279,285,447,447,441,279,450,288,282,282,444,450,285,291,453,453,447,285,456,294,288,288,450,456,291,297,459,459,453,291,462,300,294,294,456,462,297,303,465,465,459,297,468,306,300,300,462,468,303,309,471,471,465,303,474,312,306,306,468,474,309,315,477,477,471,309,480,318,312,312,474,480,315,321,483,483,477,315,486,324,318,318,480,486,321,198,201,201,483,321,201,198,324,324,486,201,327,381,477,477,483,327,480,384,330,330,486,480,381,534,471,471,477,381,474,537,384,384,480,474,375,465,471,471,534,375,474,468,378,378,537,474,369,459,465,465,375,369,468,462,372,372,378,468,363,453,459,459,369,363,462,456,366,366,372,462,357,447,453,453,363,357,456,450,360,360,366,456,351,441,447,447,357,351,450,444,354,354,360,450,345,435,441,441,351,345,444,438,348,348,354,444,339,489,435,435,345,339,438,492,342,342,348,438,339,540,528,528,489,339,528,543,342,342,492,528,327,483,201,201,333,327,201,486,330,330,336,201,333,201,531,531,546,333,531,201,336,336,549,531,528,540,546,546,531,528,549,543,528,528,531,549,402,408,525,525,519,402,525,408,405,405,522,525,396,402,519,519,513,396,522,405,399,399,516,522,390,396,513,513,507,390,516,399,393,393,510,516,495,558,552,552,501,495,555,561,498,498,504,555,390,507,501,501,552,390,504,510,393,393,555,504,429,567,564,564,558,429,564,567,432,432,561,564,552,558,564,564,204,552,564,561,555,555,204,564,387,390,552,552,204,387,555,393,387,387,204,555,423,576,570,570,429,423,573,579,426,426,432,573,417,582,576,576,423,417,579,585,420,420,426,579,414,588,582,582,417,414,585,591,414,414,420,585,411,210,588,588,414,411,591,210,411,411,414,591,567,429,570,570,207,567,573,432,567,567,207,573,207,570,615,615,621,207,618,573,207,207,621,618,210,594,597,597,588,210,600,594,210,210,591,600,588,597,603,603,582,588,606,600,591,591,585,606,582,603,609,609,576,582,612,606,585,585,579,612,576,609,615,615,570,576,618,612,579,579,573,618,594,609,603,603,597,594,606,612,594,594,600,606,594,621,615,615,609,594,618,621,594,594,612,618,414,417,489,489,528,414,492,420,414,414,528,492,417,423,630,630,489,417,633,426,420,420,492,633,423,429,636,636,630,423,639,432,426,426,633,639,429,558,495,495,636,429,498,561,432,432,639,498,240,624,636,636,495,240,639,627,243,243,498,639,624,642,630,630,636,624,633,645,627,627,639,633,234,489,630,630,642,234,633,492,237,237,645,633,390,387,213,213,663,390,213,387,393,393,666,213,396,390,663,663,657,396,666,393,399,399,660,666,402,396,657,657,651,402,660,399,405,405,654,660,408,402,651,651,648,408,654,405,408,408,648,654,648,651,684,684,690,648,687,654,648,648,690,687,651,657,678,678,684,651,681,660,654,654,687,681,657,663,672,672,678,657,675,666,660,660,681,675,663,213,669,669,672,663,669,213,666,666,675,669,669,690,684,684,672,669,687,690,669,669,675,687,672,684,678,681,687,675,546,540,699,699,693,546,702,543,549,549,696,702,333,546,693,693,759,333,696,549,336,336,762,696,327,333,759,759,765,327,762,336,330,330,768,762,540,339,753,753,699,540,756,342,543,543,702,756,339,345,747,747,753,339,750,348,342,342,756,750,345,351,741,741,747,345,744,354,348,348,750,744,351,357,735,735,741,351,738,360,354,354,744,738,357,363,729,729,735,357,732,366,360,360,738,732,363,369,723,723,729,363,726,372,366,366,732,726,369,375,717,717,723,369,720,378,372,372,726,720,375,534,705,705,717,375,708,537,378,378,720,708,534,381,711,711,705,534,714,384,537,537,708,714,381,327,765,765,711,381,768,330,384,384,714,768,711,765,771,771,825,711,774,768,714,714,828,774,705,711,825,825,831,705,828,714,708,708,834,828,717,705,831,831,819,717,834,708,720,720,822,834,723,717,819,819,813,723,822,720,726,726,816,822,729,723,813,813,807,729,816,726,732,732,810,816,735,729,807,807,801,735,810,732,738,738,804,810,741,735,801,801,795,741,804,738,744,744,798,804,747,741,795,795,789,747,798,744,750,750,792,798,753,747,789,789,783,753,792,750,756,756,786,792,699,753,783,783,837,699,786,756,702,702,840,786,765,759,777,777,771,765,780,762,768,768,774,780,759,693,843,843,777,759,846,696,762,762,780,846,693,699,837,837,843,693,840,702,696,696,846,840,198,321,849,849,216,198,852,324,198,198,216,852,321,315,855,855,849,321,858,318,324,324,852,858,315,309,861,861,855,315,864,312,318,318,858,864,309,303,867,867,861,309,870,306,312,312,864,870,303,297,873,873,867,303,876,300,306,306,870,876,297,291,879,879,873,297,882,294,300,300,876,882,291,285,885,885,879,291,888,288,294,294,882,888,285,279,891,891,885,285,894,282,288,288,888,894,279,273,897,897,891,279,900,276,282,282,894,900,921,924,981,981,1011,921,984,924,921,921,1014,984,918,921,1011,1011,1005,918,1014,921,918,918,1008,1014,915,918,1005,1005,1017,915,1008,918,915,915,1020,1008,264,270,915,915,1017,264,915,270,267,267,1020,915,258,264,1017,1017,999,258,1020,267,261,261,1002,1020,252,258,999,999,987,252,1002,261,255,255,990,1002,246,252,987,987,993,246,990,255,249,249,996,990,987,1005,1011,1011,993,987,1014,1008,990,990,996,1014,987,999,1017,1017,1005,987,1020,1002,990,990,1008,1020,975,993,1011,1011,981,975,1014,996,978,978,984,1014,240,246,993,993,975,240,996,249,243,243,978,996,624,1023,1029,1029,642,624,1032,1026,627,627,645,1032,240,975,1023,1023,624,240,1026,978,243,243,627,1026,234,642,1029,1029,1035,234,1032,645,237,237,1038,1032,234,1035,897,897,273,234,900,1038,237,237,276,900,228,969,1053,1053,909,228,1056,972,228,228,909,1056,909,1053,1047,1047,231,909,1050,1056,909,909,231,1050,231,1047,1041,1041,912,231,1044,1050,231,231,912,1044,912,1041,981,981,924,912,984,1044,912,912,924,984,975,981,1041,1041,1023,975,1044,984,978,978,1026,1044,885,891,951,951,927,885,954,894,888,888,930,954,225,945,969,969,228,225,972,948,225,225,228,972,903,1071,1065,1065,906,903,1068,1074,903,903,906,1068,906,1065,1059,1059,222,906,1062,1068,906,906,222,1062,222,1059,945,945,225,222,948,1062,222,222,225,948,873,879,1083,1083,1089,873,1086,882,876,876,1092,1086,1089,1083,1101,1101,1095,1089,1104,1086,1092,1092,1098,1104,1095,1101,1107,1107,1113,1095,1110,1104,1098,1098,1116,1110,1113,1107,1125,1125,1119,1113,1128,1110,1116,1116,1122,1128,939,1131,1119,1119,1125,939,1122,1134,942,942,1128,1122,945,1059,1119,1119,1131,945,1122,1062,948,948,1134,1122,1059,1065,1113,1113,1119,1059,1116,1068,1062,1062,1122,1116,1065,1071,1095,1095,1113,1065,1098,1074,1068,1068,1116,1098,1071,1077,1089,1089,1095,1071,1092,1080,1074,1074,1098,1092,867,873,1089,1089,1077,867,1092,876,870,870,1080,1092,219,1077,1071,1071,903,219,1074,1080,219,219,903,1074,849,855,861,861,867,849,864,858,852,852,870,864,849,867,1077,1077,219,849,1080,870,852,852,219,1080,216,849,219,219,852,216,879,885,927,927,1083,879,930,888,882,882,1086,930,927,933,1101,1101,1083,927,1104,936,930,930,1086,1104,933,1143,1107,1107,1101,933,1110,1146,936,936,1104,1110,939,1125,1107,1107,1143,939,1110,1128,942,942,1146,1110,1041,1047,1155,1155,1149,1041,1158,1050,1044,1044,1152,1158,951,1149,1155,1155,957,951,1158,1152,954,954,960,1158,891,897,1149,1149,951,891,1152,900,894,894,954,1152,897,1029,1023,1023,1149,897,1026,1032,900,900,1152,1026,1023,1041,1149,1152,1044,1026,897,1035,1029,1032,1038,900,939,963,1137,1137,1131,939,1140,966,942,942,1134,1140,945,1131,1137,1137,969,945,1140,1134,948,948,972,1140,957,1155,1137,1137,963,957,1140,1158,960,960,966,1140,1047,1053,1137,1137,1155,1047,1140,1056,1050,1050,1158,1140,969,1137,1053,1056,1140,972,1197,1161,1239,1239,1203,1197,1242,1164,1200,1200,1206,1242,1197,1203,1209,1209,1191,1197,1212,1206,1200,1200,1194,1212,1191,1209,1215,1215,1185,1191,1218,1212,1194,1194,1188,1218,1185,1215,1221,1221,1179,1185,1224,1218,1188,1188,1182,1224,1179,1221,1227,1227,1173,1179,1230,1224,1182,1182,1176,1230,1173,1227,1233,1233,1167,1173,1236,1230,1176,1176,1170,1236,1227,1257,1251,1251,1233,1227,1254,1260,1230,1230,1236,1254,1221,1263,1257,1257,1227,1221,1260,1266,1224,1224,1230,1260,1215,1269,1263,1263,1221,1215,1266,1272,1218,1218,1224,1266,1209,1275,1269,1269,1215,1209,1272,1278,1212,1212,1218,1272,1203,1281,1275,1275,1209,1203,1278,1284,1206,1206,1212,1278,1203,1239,1245,1245,1281,1203,1248,1242,1206,1206,1284,1248,951,957,1329,1329,1323,951,1332,960,954,954,1326,1332,957,1167,1233,1233,1329,957,1236,1170,960,960,1332,1236,927,951,1323,1323,933,927,1326,954,930,930,936,1326,1143,1287,1239,1239,1161,1143,1242,1290,1146,1146,1164,1242,1233,1251,1317,1317,1329,1233,1320,1254,1236,1236,1332,1320,1311,1335,1329,1329,1317,1311,1332,1338,1314,1314,1320,1332,1299,1335,1311,1311,1305,1299,1314,1338,1302,1302,1308,1314,1293,1341,1335,1335,1299,1293,1338,1344,1296,1296,1302,1338,1287,1341,1293,1293,1347,1287,1296,1344,1290,1290,1350,1296,1239,1287,1347,1347,1245,1239,1350,1290,1242,1242,1248,1350,933,1341,1287,1287,1143,933,1290,1344,936,936,1146,1290,933,1323,1335,1335,1341,933,1338,1326,936,936,1344,1338,1323,1329,1335,1338,1332,1326,1245,1347,1353,1353,1425,1245,1356,1350,1248,1248,1428,1356,1347,1293,1383,1383,1353,1347,1386,1296,1350,1350,1356,1386,1293,1299,1377,1377,1383,1293,1380,1302,1296,1296,1386,1380,1299,1305,1371,1371,1377,1299,1374,1308,1302,1302,1380,1374,1305,1311,1365,1365,1371,1305,1368,1314,1308,1308,1374,1368,1311,1317,1359,1359,1365,1311,1362,1320,1314,1314,1368,1362,1317,1251,1419,1419,1359,1317,1422,1254,1320,1320,1362,1422,1281,1245,1425,1425,1389,1281,1428,1248,1284,1284,1392,1428,1275,1281,1389,1389,1395,1275,1392,1284,1278,1278,1398,1392,1269,1275,1395,1395,1401,1269,1398,1278,1272,1272,1404,1398,1263,1269,1401,1401,1407,1263,1404,1272,1266,1266,1410,1404,1257,1263,1407,1407,1413,1257,1410,1266,1260,1260,1416,1410,1251,1257,1413,1413,1419,1251,1416,1260,1254,1254,1422,1416,1371,1365,1437,1437,1431,1371,1440,1368,1374,1374,1434,1440,1431,1437,1443,1443,1449,1431,1446,1440,1434,1434,1452,1446,1449,1443,1461,1461,1455,1449,1464,1446,1452,1452,1458,1464,1455,1461,1467,1467,1473,1455,1470,1464,1458,1458,1476,1470,1389,1425,1455,1455,1473,1389,1458,1428,1392,1392,1476,1458,1353,1449,1455,1455,1425,1353,1458,1452,1356,1356,1428,1458,1353,1383,1431,1431,1449,1353,1434,1386,1356,1356,1452,1434,1371,1431,1383,1383,1377,1371,1386,1434,1374,1374,1380,1386,1359,1419,1437,1437,1365,1359,1440,1422,1362,1362,1368,1440,1413,1443,1437,1437,1419,1413,1440,1446,1416,1416,1422,1440,1407,1461,1443,1443,1413,1407,1446,1464,1410,1410,1416,1446,1401,1467,1461,1461,1407,1401,1464,1470,1404,1404,1410,1464,1395,1473,1467,1467,1401,1395,1470,1476,1398,1398,1404,1470,1389,1473,1395,1398,1476,1392,1173,1167,1509,1509,1503,1173,1512,1170,1176,1176,1506,1512,1179,1173,1503,1503,1497,1179,1506,1176,1182,1182,1500,1506,1185,1179,1497,1497,1491,1185,1500,1182,1188,1188,1494,1500,1191,1185,1491,1491,1485,1191,1494,1188,1194,1194,1488,1494,1197,1191,1485,1485,1479,1197,1488,1194,1200,1200,1482,1488,1161,1197,1479,1479,1515,1161,1482,1200,1164,1164,1518,1482,1479,1503,1509,1509,1515,1479,1512,1506,1482,1482,1518,1512,1479,1485,1497,1497,1503,1479,1500,1488,1482,1482,1506,1500,1485,1491,1497,1500,1494,1488,939,1143,1161,1161,1515,939,1164,1146,942,942,1518,1164,939,1515,1509,1509,963,939,1512,1518,942,942,966,1512,957,963,1509,1509,1167,957,1512,966,960,960,1170,1512]);
init();
</script>
</body>
</html>
